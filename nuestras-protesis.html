<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catálogo - Pawssible</title>
    
    <!-- Fuentes -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700;800&family=Jost:wght@500;600;700;800&family=Josefin+Sans:wght@400;600;700&display=swap" rel="stylesheet">

    <!-- CSS - IMPORTANTE: navbar.css PRIMERO -->
    <link rel="stylesheet" href="assets/css/navbar.css">
    <link rel="stylesheet" href="assets/css/protesis.css">

  <!-- PG Catalog v3 CSS -->
  <link rel="stylesheet" href="assets/css/pg-catalog.css">

  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    
</head>
<body>
    <!-- El navbar se insertará automáticamente aquí por navbar.js -->

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h1 class="hero-title">Catálogo de Prótesis</h1>
            <p class="hero-subtitle">Encuentra la solución perfecta para devolver la movilidad a tu mascota</p>
            
            
            <div class="filters-toggle-wrapper">
                <button class="filters-toggle-btn" id="filtersToggleBtn" type="button">
                    <svg class="filters-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon>
                    </svg>
                    <span class="filters-text">Filtros</span>
                    <span class="filters-arrow" id="filtersArrow">▼</span>
                </button>
            </div>
        </div>
        
       
        <div class="filters-dropdown" id="filtersDropdown">
            <div class="container">
                <div class="filters-container">
                   
                    <div class="search-box">
                        <input type="text" id="searchBox" placeholder="Buscar prótesis..." class="search-input">
                    </div>
                    
                    <!-- Filtros -->
                    <div class="filters-group">
                        <select id="filterSize" class="filter-select">
                            <option value="all">Todas las tallas</option>
                            <option value="small">Pequeña</option>
                            <option value="medium">Mediana</option>
                            <option value="large">Grande</option>
                            <option value="xlarge">Extra Grande</option>
                        </select>
                        
                        <select id="sortBy" class="filter-select">
                            <option value="name">Ordenar por Nombre</option>
                            <option value="price-asc">Precio: Menor a Mayor</option>
                            <option value="price-desc">Precio: Mayor a Menor</option>
                            <option value="stock">Mayor Stock</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Content - Catálogo -->
    <main class="main-content">
        <div class="container">
            <!-- Grid antiguo oculto - ahora se usa solo PG Catalog -->
            <div class="protesis-grid" id="protesisGrid" style="display: none;">
                <!-- Los productos se cargan dinámicamente desde protesis.json -->
            </div>
        </div>
    
  <!-- PG Catalog v3 container (safe to move) -->
  <section class="container" id="catalog-root" style="margin-top: 2rem;">
    <div id="pg-catalog-grid" class="protesis-grid"></div>
  </section>

  <!-- Catálogo inicial con los 10 productos -->
  <script id="pg-default-catalog" type="application/json">[
    {
      "id": "paw-001",
      "name": "Prótesis delantera — parcial",
      "sku": "PAW-FR-PARCIAL-01",
      "category": "protesis",
      "price": 2500.00,
      "stock": 10,
      "image": "assets/images/catalog/protesis-frontal-parcial-01.png",
      "description": "Socket ligero con soporte rígido y correas dobles.",
      "createdAt": "2025-10-16T00:00:00.000Z"
    },
    {
      "id": "paw-002",
      "name": "Prótesis trasera — parcial",
      "sku": "PAW-TR-PARCIAL-01",
      "category": "protesis",
      "price": 2600.00,
      "stock": 8,
      "image": "assets/images/catalog/protesis-trasera-parcial-01.png",
      "description": "Acolchado en zonas de contacto y refuerzos de apoyo.",
      "createdAt": "2025-10-16T00:00:00.000Z"
    },
    {
      "id": "paw-003",
      "name": "Prótesis delantera — completa",
      "sku": "PAW-FR-COMPLETA-01",
      "category": "protesis",
      "price": 4200.00,
      "stock": 6,
      "image": "assets/images/catalog/protesis-frontal-completa-01.png",
      "description": "Con articulación simulada para marcha natural.",
      "createdAt": "2025-10-16T00:00:00.000Z"
    },
    {
      "id": "paw-004",
      "name": "Prótesis trasera — completa",
      "sku": "PAW-TR-COMPLETA-01",
      "category": "protesis",
      "price": 4400.00,
      "stock": 5,
      "image": "assets/images/catalog/protesis-trasera-completa-01.png",
      "description": "Centro de gravedad estable y tope antideslizante.",
      "createdAt": "2025-10-16T00:00:00.000Z"
    },
    {
      "id": "paw-005",
      "name": "Prótesis bilateral delantera — parcial",
      "sku": "PAW-BI-FR-PARCIAL-01",
      "category": "protesis",
      "price": 4800.00,
      "stock": 3,
      "image": "assets/images/catalog/protesis-bilateral-frontal-parcial-01.png",
      "description": "Par emparejado con ajuste sincronizado.",
      "createdAt": "2025-10-16T00:00:00.000Z"
    },
    {
      "id": "paw-006",
      "name": "Prótesis cuadripodal — parcial robusta (4 patitas)",
      "sku": "PAW-QUAD-PARCIAL-ROBUSTA-01",
      "category": "protesis",
      "price": 7200.00,
      "stock": 2,
      "image": "assets/images/catalog/protesis-cuatripodal-robusta-01.png",
      "description": "Cuatro prótesis parciales reforzadas (carbono/aleación) para soportar peso completo y libertad de movimiento.",
      "createdAt": "2025-10-16T00:00:00.000Z"
    },
    {
      "id": "paw-007",
      "name": "Arnés de rehabilitación",
      "sku": "PAW-HARNESS-01",
      "category": "accesorio",
      "price": 790.00,
      "stock": 15,
      "image": "assets/images/catalog/accesorio-arnes-01.png",
      "description": "Azul marino con ribete claro, tirantes a antebrazos y puntos de anclaje modulares.",
      "createdAt": "2025-10-16T00:00:00.000Z"
    },
    {
      "id": "paw-008",
      "name": "Kit de mantenimiento",
      "sku": "PAW-KIT-MANT-01",
      "category": "accesorio",
      "price": 350.00,
      "stock": 25,
      "image": "assets/images/catalog/accesorio-kit-mantenimiento-01.png",
      "description": "Silicona, fijador de roscas, llaves, correas y tornillería en estuche.",
      "createdAt": "2025-10-16T00:00:00.000Z"
    },
    {
      "id": "paw-009",
      "name": "Kit de ruedas todo-terreno",
      "sku": "PAW-WHEEL-AT-01",
      "category": "accesorio",
      "price": 1150.00,
      "stock": 12,
      "image": "assets/images/catalog/accesorio-rueda-tt-01.png",
      "description": "Ruedas robustas con brazos ajustables para carrito.",
      "createdAt": "2025-10-16T00:00:00.000Z"
    },
    {
      "id": "paw-010",
      "name": "Servicio de ajuste y calibración",
      "sku": "PAW-SERV-AJUSTE-01",
      "category": "servicio",
      "price": 600.00,
      "stock": null,
      "image": "assets/images/catalog/servicio-ajuste-01.png",
      "description": "Ajuste fino, nivelación y confort del paciente (sesión profesional).",
      "createdAt": "2025-10-16T00:00:00.000Z"
    }
  ]</script>

</main>

    <!-- Modal del Carrito -->
    <div class="modal-carrito" id="modalCarrito">
        <div class="modal-carrito-content">
            <div class="modal-carrito-header">
                <h2 class="modal-carrito-title"><i data-lucide="shopping-cart"></i> Tu Carrito</h2>
                <button class="btn-close-carrito" id="btnCerrarCarrito">&times;</button>
            </div>
            
            <div class="carrito-items" id="carritoItems">
                <!-- Los items se cargan dinámicamente -->
            </div>
            
            <div class="carrito-footer">
                <div class="carrito-total">
                    <span class="carrito-total-label">Total:</span>
                    <span class="carrito-total-amount" id="totalCarrito">$0.00</span>
                </div>
                <div class="carrito-actions">
                    <button class="btn-vaciar-carrito" onclick="vaciarCarrito()">
                       <i data-lucide="trash-2" style="stroke:#ffffff;width:18px;height:18px;vertical-align:middle;margin-right:6px;margin-bottom:5px;"></i>  Vaciar Carrito
                    </button>
                    <button class="btn-finalizar-compra" onclick="finalizarCompra()">
                        <i data-lucide="messages-square" style="stroke:#ffffff;width:18px;height:18px;vertical-align:middle;margin-right:6px;"></i>  Finalizar por WhatsApp
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Botón flotante del carrito -->
    <button class="btn-carrito-float" id="btnCarritoFloat" title="Ver carrito">
        <i data-lucide="shopping-cart"></i> 
        <span class="carrito-badge" id="carritoBadge">0</span>
    </button>

    <!-- Botón flotante de WhatsApp -->
    <a href="https://wa.me/525512345678" target="_blank" class="btn-whatsapp-float" title="Contáctanos por WhatsApp">
        <i data-lucide="messages-square"></i> 
    </a>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3 class="footer-title">Pawssible</h3>
                    <p class="footer-text">Transformando vidas, una pata a la vez</p>
                    <p class="footer-tagline">Lo imposible se vuelve pawssible</p>
                </div>
                <div class="footer-section">
                    <h4 class="footer-subtitle">Contacto</h4>
                    <p class="footer-text">info@pawssible.com</p>
                    <p class="footer-text">+52 (55) 1234-5678</p>
                </div>
                <div class="footer-section">
                    <h4 class="footer-subtitle">Horarios</h4>
                    <p class="footer-text">Lunes a Viernes: 9:00 - 18:00</p>
                    <p class="footer-text">Sábados: 10:00 - 14:00</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p class="footer-copyright">© 2025 Pawssible. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- Scripts - IMPORTANTE: navbar.js PRIMERO -->
    <script src="assets/js/navbar.js"></script>
    <script src="assets/js/protesis.js"></script>

  <!-- PG Catalog v3 JS -->
  <script src="assets/js/pg-catalog.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      var params = new URLSearchParams(location.search);
      if (params.get('admin') === '1') {
        var ap = document.getElementById('pg-admin-panel');
        if (ap) ap.style.display = 'block';
      }
    });
  </script>
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
   <script>
    lucide.createIcons();
    </script>
      <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>

</body>
</html>
